{% extends 'base.html' %}
{% load staticfiles %}

{% block header %}
    <!-- 本页独有插件 时间插件-->
    <link href="css/plugins/datapicker/datepicker3.css" rel="stylesheet">
    <style>
        .ibox-title{ border-width: 3px 1px; }
        .ibox-content{ border: 1px solid #e7eaec; }
        .widget.style1 h2{ font-size: 16px; }
        .buttons .widget{ overflow: hidden; }
        .buttons .widget > div{ float: left; }
        .buttons .widget > div:first-child{ margin-right: 10px; }
    </style>
{% endblock %}
{% block content %}
        <div class="row wrapper border-bottom white-bg page-heading">
            <div class="col-lg-10">
                <h2>75001234  详细信息</h2>
            </div>
            <div class="col-lg-2">

            </div>
        </div>

        <div class="wrapper wrapper-content animated fadeInRight">

            <div class="row">
                <div class="col-lg-12">
                    <div class="ibox product-detail">
                        <div class="ibox-content">
                            <!-- 按钮1 -->
                            <div class="buttons">
                                <ul class="list-inline">
                                    <li>
                                        <div class="widget style1 navy-bg">
                                            <div>
                                                <i class="fa fa-calendar fa-2x"></i>
                                            </div>
                                            <div class="text-right">
                                                <h2 class="font-bold">查看充电日志</h2>
                                            </div>
                                        </div>
                                    </li>
                                    <li>
                                        <div class="widget style1 navy-bg">
                                            <div>
                                                <i class="fa fa-building-o fa-2x"></i>
                                            </div>
                                            <div class="text-right">
                                                <h2 class="font-bold">查看充电记录</h2>
                                            </div>
                                        </div>
                                    </li>
                                    <li>
                                        <div class="widget style1 lazur-bg">
                                            <div>
                                                <i class="fa fa-play fa-2x"></i>
                                            </div>
                                            <div class="text-right">
                                                <h2 class="font-bold">开始充电</h2>
                                            </div>
                                        </div>
                                    </li>
                                    <li>
                                        <div class="widget style1 lazur-bg">
                                            <div>
                                                <i class="fa fa-stop fa-2x"></i>
                                            </div>
                                            <div class="text-right">
                                                <h2 class="font-bold">停止充电</h2>
                                            </div>
                                        </div>
                                    </li>
                                    <li>
                                        <div class="widget style1 navy-bg">
                                            <div>
                                                <i class="fa fa-repeat fa-2x"></i>
                                            </div>
                                            <div class="text-right">
                                                <h2 class="font-bold">更新</h2>
                                            </div>
                                        </div>
                                    </li>
                                    <li>
                                        <div class="widget style1 navy-bg">
                                            <div>
                                                <i class="fa fa-undo fa-2x"></i>
                                            </div>
                                            <div class="text-right">
                                                <h2 class="font-bold">复位</h2>
                                            </div>
                                        </div>
                                    </li>
                                    <li>
                                        <div class="widget style1 navy-bg">
                                            <div>
                                                <i class="fa fa-history fa-2x"></i>
                                            </div>
                                            <div class="text-right">
                                                <h2 class="font-bold">拓展</h2>
                                            </div>
                                        </div>
                                    </li>
                                </ul>
                            </div>
                           
                            <div class="row">
                                <div class="col-md-5">
                                    <div class="ibox">
                                        <div class="ibox-title">
                                            <h5>Charger Information </h5>
                                        </div>
                                        <div class="ibox-content no-padding">
                                            <table class="table table-hover margin bottom">
                                                <tbody>
                                                    <tr>
                                                        <td colspan="2" class="font-bold">Charger Detail</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Charger ID</td>
                                                        <td>10245001</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Charger Model</td>
                                                        <td>EVG-32N</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Current State</td>
                                                        <td>Charging</td>
                                                    </tr>
                                                    <tr>
                                                        <td colspan="2" class="font-bold">Charger Parameter</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Cable Plugged</td>
                                                        <td>GB/T20234(32A)</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Charger Supply Line</td>
                                                        <td>Line 4</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Charger Supply Current</td>
                                                        <td>8A</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Feedback Current</td>
                                                        <td>6A</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Accumulated Energy</td>
                                                        <td>0.002kWh</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Min. Charging Current</td>
                                                        <td>Wait for Test</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Max. Charging Current</td>
                                                        <td>Wait for Test</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Stop. Charging Point</td>
                                                        <td>Wait for Test</td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-md-7">
                                    <div class="ibox float-e-margins">
                                        <div class="ibox-title">
                                            <h5>Live Chart Example</h5>
                                        </div>
                                        <div class="ibox-content">
                                            <div class="flot-chart">
                                                <div class="flot-chart-content" id="flot-line-chart-moving"></div>
                                            </div>
                                        </div>
                                    </div>

                                    <div>
                                        <button class="btn btn-primary btn-sm">Start Charging</button>
                                        <button class="btn btn-white btn-sm" disabled="disabled">Stop Charging </button>
                                        <button class="btn btn-white btn-sm">Reset</button>
                                    </div>

                                    <div class="ibox m-t">
                                        <div class="ibox-title">
                                            <h5>Charger Record</h5>
                                        </div>
                                        <div class="ibox-content no-padding">
                                            <form class="form-horizontal m-t">
                                                <div class="form-group" id="data_2">
                                                    <label class="col-lg-2 control-label">Date</label>
                                                    <div class="col-lg-10">
                                                        <div class="input-group date">
                                                            <span class="input-group-addon"><i class="fa fa-calendar"></i></span>
                                                            <input type="text" class="form-control">
                                                        </div>
                                                    </div>    
                                                </div>
                                                <button class="btn btn-primary btn-sm btn-block">View</button>
                                            </form>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
          
        </div>
{% endblock content %}


{% block script %}

<!-- slick carousel-->
<script src="{% static 'js/plugins/slick/slick.min.js' %}"></script>

<!-- 本页独有插件 -->
<!-- Flot -->
<script src="{% static 'js/plugins/flot/jquery.flot.js' %}"></script>
<script src="{% static 'js/plugins/flot/jquery.flot.tooltip.min.js' %}"></script>
<script src="{% static 'js/plugins/flot/jquery.flot.resize.js' %}"></script>
<script src="{% static 'js/plugins/flot/jquery.flot.pie.js' %}"></script>
<script src="{% static 'js/plugins/flot/jquery.flot.time.js' %}"></script>

<!-- Date picker -->
<script src="{% static 'js/plugins/datapicker/bootstrap-datepicker.js' %}"></script>


<script>
    $(document).ready(function(){
        //时间插件
        $('#data_2 .input-group.date').datepicker({
            todayBtn: "linked",
            keyboardNavigation: false,
            forceParse: false,
            autoclose: true,
            format: "yyyy-mm",
        });

        //chart
        ///////////////////////////////////////////////////////////////
        var container = $("#flot-line-chart-moving");

        // Determine how many data points to keep based on the placeholder's initial size;
        // this gives us a nice high-res plot while avoiding more than one point per pixel.

        var maximum = container.outerWidth() / 2 || 300;

        //

        var data = [];
        var differ = 100;

        function getRandomData() {

            if (data.length) {
                data = data.slice(1);
            }

            while (data.length < maximum) {
                var previous = data.length ? data[data.length - 1] : 50;
                var y = previous + Math.random() * 10 - 5;
                console.log(y)
                data.push(y < 0 ? 0 : y > 100 ? 100 : y);
            }

            // zip the generated y values with the x values

            var res = [];
            for (var i = 0; i < data.length; ++i) {
                res.push([i, data[i]])
            }

            return res;
        }

        series = [{
            data: getRandomData(),
            lines: {
                fill: true
            }
        }];


        var plot = $.plot(container, series, {
            grid: {

                color: "#999999",
                tickColor: "#D4D4D4",
                borderWidth:0,
                minBorderMargin: 20,
                labelMargin: 10,
                backgroundColor: {
                    colors: ["#ffffff", "#ffffff"]
                },
                margin: {
                    top: 8,
                    bottom: 20,
                    left: 20
                },
                markings: function(axes) {
                    var markings = [];
                    var xaxis = axes.xaxis;
                    for (var x = Math.floor(xaxis.min); x < xaxis.max; x += xaxis.tickSize * 2) {
                        markings.push({
                            xaxis: {
                                from: x,
                                to: x + xaxis.tickSize
                            },
                            color: "#fff"
                        });
                    }
                    return markings;
                }
            },
            colors: ["#1ab394"],
            xaxis: {
                tickFormatter: function() {
                    return "";
                }
            },
            yaxis: {
                min: 0,
                max: 100
            },
            legend: {
                show: true
            }
        });

        // Update the random dataset at 25FPS for a smoothly-animating chart

        setInterval(function updateRandom() {
            series[0].data = getRandomData();
            plot.setData(series);
            plot.draw();
        }, 40);
    });

</script>

{% endblock script %}
