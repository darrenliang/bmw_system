{% extends 'base.html' %}
{% load staticfiles %}
{% block content %}

                    <div class="wrapper wrapper-content animated fadeInRight">
                        <div class="row">
                           <div class="col-lg-3">
                                <div class="widget style1 navy-bg">
                                    <div class="row">
                                        <div class="col-xs-4">
                                            <i class="icon iconfont icon-chongdianzhuang fa-4x"></i>
                                        </div>
                                        <div class="col-xs-8 text-right">
                                            <span> 电桩总数 </span>
                                            <h2 class="font-bold">54</h2>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-3">
                                <div class="widget style1 navy-bg">
                                    <div class="row">
                                        <div class="col-xs-4">
                                            <i class="icon iconfont icon-chargingpile fa-4x"></i>
                                        </div>
                                        <div class="col-xs-8 text-right">
                                            <span> 总充电电量 </span>
                                            <h2 class="font-bold">156604</h2>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-3">
                                <div class="widget style1 lazur-bg">
                                    <div class="row">
                                        <div class="col-xs-4">
                                            <i class="icon iconfont icon-attacktime fa-4x"></i>
                                        </div>
                                        <div class="col-xs-8 text-right">
                                            <span> 总充电次数 </span>
                                            <h2 class="font-bold">54</h2>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-3">
                                <div class="widget style1 yellow-bg">
                                    <div class="row">
                                        <div class="col-xs-4">
                                            <i class="icon iconfont icon-zhengzaishiyong fa-4x"></i>
                                        </div>
                                        <div class="col-xs-8 text-right">
                                            <span> 正在使用 </span>
                                            <h2 class="font-bold">12</h2>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- chart 1 -->
                        <div class="row">
                            <div class="col-md-6">
                                <div class="ibox float-e-margins">
                                    <div class="ibox-title">
                                        <h5>实时电桩信息</h5>
                                        <div class="ibox-tools">
                                            <a class="collapse-link">
                                                <i class="fa fa-chevron-up"></i>
                                            </a>
                                            <a class="close-link">
                                                <i class="fa fa-times"></i>
                                            </a>
                                        </div>
                                    </div>
                                    <div class="ibox-content" style="position: relative;">
                                        <div id="morris-area-chart" style="height: 200px"></div>
                                    </div>
                                </div>
                            </div>

                            <div class="col-md-6">
                                <div class="ibox float-e-margins">
                                    <div class="ibox-title">
                                        <h5>相位仪表图</h5>
                                        <div class="ibox-tools">
                                            <a class="collapse-link">
                                                <i class="fa fa-chevron-up"></i>
                                            </a>
                                            <a class="close-link">
                                                <i class="fa fa-times"></i>
                                            </a>
                                        </div>
                                        <div class="ibox-content" style="padding-left: 0; padding-right: 0;">
                                            <div id="guage1" style="height: 200px"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- chart 2 -->
                        <div class="row">
                            <div class="col-md-12">
                                <div class="ibox float-e-margins">
                                    <div class="ibox-content">
                                        <table class="table table-striped">
                                            <thead>
                                            <tr>
                                                <th>CID</th>
                                                <th>IP</th>
                                                <th>Version</th>
                                                <th>上次连接时间</th>
                                                <th>状态</th>
                                                <th>ModelID</th>
                                                <th>操作命令</th>
                                            </tr>
                                            </thead>
                                            <tbody>
                                                <tr>
                                                    <td><a href="/details/" target="_blank" role="button">05010101</a></td>
                                                    <td>192.168.6.10-20</td>
                                                    <td>CNMB19166</td>
                                                    <td>当前时间</td>
                                                    <td class="text-navy">就绪</td>
                                                    <td>EV-CHARGER-21KW</td>
                                                    <td>
                                                        <a href="#" target="_blank" class="btn btn-primary btn-xs" role="button">开始充电</a>
                                                        <a href="#" target="_blank" class="btn btn-primary btn-xs" role="button">复位</a>
                                                        <a href="#" target="_blank" class="btn btn-primary btn-xs" role="button">更新</a>
                                                        <a href="#" target="_blank" class="btn btn-primary btn-xs" role="button">停止充电</a>
                                                        <a href="#" target="_blank" class="btn btn-primary btn-xs" role="button">拓展</a>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td><a href="/details/" target="_blank" role="button">05010102</a></td>
                                                    <td>192.168.6.10-20</td>
                                                    <td>CNMB19166</td>
                                                    <td>当前时间</td>
                                                    <td class="text-navy">就绪</td>
                                                    <td>EV-CHARGER-21KW</td>
                                                    <td>
                                                        <a href="#" target="_blank" class="btn btn-primary btn-xs" role="button">开始充电</a>
                                                        <a href="#" target="_blank" class="btn btn-primary btn-xs" role="button">复位</a>
                                                        <a href="#" target="_blank" class="btn btn-primary btn-xs" role="button">更新</a>
                                                        <a href="#" target="_blank" class="btn btn-primary btn-xs" role="button">停止充电</a>
                                                        <a href="#" target="_blank" class="btn btn-primary btn-xs" role="button">拓展</a>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td><a href="/details/" target="_blank" role="button">05010103</a></td>
                                                    <td>192.168.6.10-20</td>
                                                    <td>CNMB19166</td>
                                                    <td>当前时间</td>
                                                    <td class="text-navy">就绪</td>
                                                    <td>EV-CHARGER-21KW</td>
                                                    <td>
                                                        <a href="#" target="_blank" class="btn btn-primary btn-xs" role="button">开始充电</a>
                                                        <a href="#" target="_blank" class="btn btn-primary btn-xs" role="button">复位</a>
                                                        <a href="#" target="_blank" class="btn btn-primary btn-xs" role="button">更新</a>
                                                        <a href="#" target="_blank" class="btn btn-primary btn-xs" role="button">停止充电</a>
                                                        <a href="#" target="_blank" class="btn btn-primary btn-xs" role="button">拓展</a>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
{% endblock content %}


{% block script %}

    <!-- Morris -->
    <script src="{% static 'js/plugins/morris/raphael-2.1.0.min.js' %}"></script>
    <script src="{% static 'js/plugins/morris/morris.js' %}"></script>

    <script>
        $(document).ready(function(){
            /*实时电桩信息*/
            Morris.Area({
                element: 'morris-area-chart',
                data: [{ period: '0 min', 点位1: 2, 点位2: 1, 点位3: 3 },
                    { period: '10 min', 点位1:4, 点位2: 3, 点位3: 4 },
                    { period: '20 min', 点位1: 5, 点位2: 8, 点位3: 5 },
                    { period: '30 min', 点位1: 6, 点位2: 10, 点位3: 9 },
                    { period: '40 min', 点位1: 12, 点位2: 17, 点位3: 12 },
                    { period: '50 min', 点位1: 18, 点位2: 26, 点位3: 23 },
                    { period: '60 min', 点位1: 30, 点位2: 23, 点位3: 32 },
                    { period: '70 min', 点位1: 25, 点位2: 30, 点位3: 24 },
                    { period: '80 min', 点位1: 12, 点位2: 25, 点位3: 17 },
                    { period: '90 min', 点位1: 17, 点位2: 24, 点位3: 15 } ],
                xkey: 'period',
                ykeys: ['点位1', '点位2', '点位3'],
                labels: ['点位1', '点位2', '点位3'],
                pointSize: 2,
                hideHover: 'auto',
                resize: true,
                lineColors: ['#87d6c6', '#54cdb4','#1ab394'],
                lineWidth:2,
                pointSize:1,
            });
            /*3個儀錶盤*/
            var guage1 = echarts.init(document.getElementById('guage1'));

            var option = {
                tooltip : {
                    formatter: "{a} <br/>{c} {b}"
                },
                toolbox: {
                    show: true,
                    feature: {
                        restore: {show: true},
                        saveAsImage: {show: true}
                    }
                },
                series : [
                    {
                        name: '速度',
                        type: 'gauge',
                        center: ['50.5%', '50%'],
                        z: 3,
                        min: 0,
                        max: 200,
                        splitNumber: 5,
                        radius: '75%',
                        axisLine: {            // 坐标轴线
                            lineStyle: {       // 属性lineStyle控制线条样式
                                width: 10
                            }
                        },
                        axisTick: {            // 坐标轴小标记
                            length: 15,        // 属性length控制线长
                            lineStyle: {       // 属性lineStyle控制线条样式
                                color: 'auto'
                            }
                        },
                        splitLine: {           // 分隔线
                            length: 20,         // 属性length控制线长
                            lineStyle: {       // 属性lineStyle（详见lineStyle）控制线条样式
                                color: 'auto'
                            }
                        },
                        detail : {
                            fontWeight: 'bolder',
                            offsetCenter: [0, '70%'],
                            fontSize: 18
                        },
                        data:[{value: 1, name: ''}]
                    },
                    {
                        name: '转速',
                        type: 'gauge',
                        center: ['19%', '50%'],    // 默认全局居中
                        radius: '75%',
                        min:0,
                        max:200,
                        //endAngle:45,
                        splitNumber:5,
                        axisLine: {            // 坐标轴线
                            lineStyle: {       // 属性lineStyle控制线条样式
                                width: 8
                            }
                        },
                        axisTick: {            // 坐标轴小标记
                            length:12,        // 属性length控制线长
                            lineStyle: {       // 属性lineStyle控制线条样式
                                color: 'auto'
                            }
                        },
                        splitLine: {           // 分隔线
                            length:20,         // 属性length控制线长
                            lineStyle: {       // 属性lineStyle（详见lineStyle）控制线条样式
                                color: 'auto'
                            }
                        },
                        pointer: {
                            width:5
                        },
                        title: {
                            offsetCenter: [0, '-30%'],       // x, y，单位px
                        },
                        detail : {
                            fontWeight: 'bolder',
                            offsetCenter: [0, '70%'],
                            fontSize: 18
                        },
                        data:[{value: 1.5, name: ''}]
                    },
                    {
                        name: '油表',
                        type: 'gauge',
                        center: ['82%', '50%'],    // 默认全局居中
                        radius: '75%',
                        min: 0,
                        max: 200,
                        //startAngle: 135,
                        //  endAngle: 45,
                        splitNumber: 8,
                        axisLine: {            // 坐标轴线
                            lineStyle: {       // 属性lineStyle控制线条样式
                                width: 8
                            }
                        },
                        axisTick: {            // 坐标轴小标记
                            splitNumber: 5,
                            length: 10,        // 属性length控制线长
                            lineStyle: {        // 属性lineStyle控制线条样式
                                color: 'auto'
                            }
                        },
                        splitLine: {           // 分隔线
                            length: 15,         // 属性length控制线长
                            lineStyle: {       // 属性lineStyle（详见lineStyle）控制线条样式
                                color: 'auto'
                            }
                        },
                        pointer: {
                            width:2
                        },
                        title : {
                            show: false
                        },
                        detail : {
                            fontWeight: 'bolder',
                            offsetCenter: [0, '70%'],
                            fontSize: 18
                        },
                        data:[{value: 0.5, name: 'gas'}]
                    }
                ]
            };

            setInterval(function (){
                option.series[0].data[0].value = 64;
                option.series[1].data[0].value = 32;
                option.series[2].data[0].value = 96;
                guage1.setOption(option,true);
            },2000);
        });
    </script>


{% endblock script %}
