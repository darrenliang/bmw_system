{% extends 'base.html' %}
{% load staticfiles %}
{% block content %}

                    <div class="wrapper wrapper-content animated fadeInRight">
                        <div class="row">
                           <div class="col-lg-3">
                                <div class="widget style1 navy-bg">
                                    <div class="row">
                                        <div class="col-xs-4">
                                            <i class="icon iconfont icon-chongdianzhuang fa-4x"></i>
                                        </div>
                                        <div class="col-xs-8 text-right">
                                            <span> 电桩总数 </span>
                                            <h2 class="font-bold">54</h2>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-3">
                                <div class="widget style1 navy-bg">
                                    <div class="row">
                                        <div class="col-xs-4">
                                            <i class="icon iconfont icon-chargingpile fa-4x"></i>
                                        </div>
                                        <div class="col-xs-8 text-right">
                                            <span> 总充电电量 </span>
                                            <h2 class="font-bold">156604</h2>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-3">
                                <div class="widget style1 lazur-bg">
                                    <div class="row">
                                        <div class="col-xs-4">
                                            <i class="icon iconfont icon-attacktime fa-4x"></i>
                                        </div>
                                        <div class="col-xs-8 text-right">
                                            <span> 总充电次数 </span>
                                            <h2 class="font-bold">54</h2>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-3">
                                <div class="widget style1 yellow-bg">
                                    <div class="row">
                                        <div class="col-xs-4">
                                            <i class="icon iconfont icon-zhengzaishiyong fa-4x"></i>
                                        </div>
                                        <div class="col-xs-8 text-right">
                                            <span> 正在使用 </span>
                                            <h2 class="font-bold">12</h2>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- chart 1 -->
                        <div class="row">
                            <div class="col-md-6">
                                <!-- 充电电量变化 -->
                                <div class="ibox float-e-margins">
                                    <div class="ibox-title">
                                        <h5>充电电量变化</h5>
                                        <div class="ibox-tools">
                                            <select id="select_chart1">
                                                <option value="chart1">按点位排列</option>
                                                <option value="chart11">按电桩排列</option>
                                            </select>
                                        </div>
                                        <div class="ibox-content">
                                            <div id="chart1" class="chart" style="width: 500px;height:300px;"></div>
                                            <div id="chart11" class="chart hidden" style="width: 500px;height:300px;"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                                <!-- 异常电桩总览 -->
                            <div class="col-md-6">
                                <div class="ibox float-e-margins">
                                    <div class="ibox-title">
                                        <h5>充电记录总览</h5>
                                        <div class="ibox-tools">
                                            <a class="collapse-link">
                                                <i class="fa fa-chevron-up"></i>
                                            </a>
                                            <a class="dropdown-toggle" data-toggle="dropdown" href="#">
                                                <i class="fa fa-wrench"></i>
                                            </a>
                                            <ul class="dropdown-menu dropdown-user">
                                                <li><a href="#">Config option 1</a>
                                                </li>
                                                <li><a href="#">Config option 2</a>
                                                </li>
                                            </ul>
                                            <a class="close-link">
                                                <i class="fa fa-times"></i>
                                            </a>
                                        </div>
                                        <div class="ibox-content">
                                            <table class="table table-striped">
                                                <thead>
                                                <tr>
                                                    <th>CID</th>
                                                    <th>工作状态</th>
                                                    <th>上一次心跳时间</th>
                                                </tr>
                                                </thead>
                                                <tbody>
                                                    <tr>
                                                        <td>巴扎嘿</td>
                                                        <td>234234</td>
                                                        <td class="text-navy"> <i class="fa fa-level-up"></i> 40% </td>
                                                    </tr>
                                                    <tr>
                                                        <td>五黄</td>
                                                        <td>34242</td>
                                                        <td class="text-warning"> <i class="fa fa-level-down"></i> -20% </td>
                                                    </tr>
                                                    <tr>
                                                        <td>水电费</td>
                                                        <td>846</td>
                                                        <td class="text-navy"> <i class="fa fa-level-up"></i> 26% </td>
                                                    </tr>
                                                    <tr>
                                                        <td>玩儿</td>
                                                        <td>34</td>
                                                        <td class="text-navy"> <i class="fa fa-level-up"></i> 26% </td>
                                                    </tr>
                                                    <tr>
                                                        <td>温润如玉</td>
                                                        <td>1</td>
                                                        <td class="text-navy"> <i class="fa fa-level-up"></i> 26% </td>
                                                    </tr>
                                                    <tr>
                                                        <td>体育</td>
                                                        <td>0</td>
                                                        <td class="text-navy"> <i class="fa fa-level-up"></i> 26% </td>
                                                    </tr>
                                                    <tr>
                                                        <td>老师</td>
                                                        <td>0</td>
                                                        <td class="text-navy"> <i class="fa fa-level-up"></i> 26% </td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- chart 2 -->
                        <div class="row">
                             <div class="col-md-6">
                                <div class="ibox float-e-margins">
                                    <div class="ibox-title">
                                        <h5>电桩总览</h5>
                                        <div class="ibox-tools">
                                            <a class="collapse-link">
                                                <i class="fa fa-chevron-up"></i>
                                            </a>
                                            <a class="dropdown-toggle" data-toggle="dropdown" href="#">
                                                <i class="fa fa-wrench"></i>
                                            </a>
                                            <ul class="dropdown-menu dropdown-user">
                                                <li><a href="#">Config option 1</a>
                                                </li>
                                                <li><a href="#">Config option 2</a>
                                                </li>
                                            </ul>
                                            <a class="close-link">
                                                <i class="fa fa-times"></i>
                                            </a>
                                        </div>
                                        <div class="ibox-content">
                                            <table class="table table-striped">
                                                <thead>
                                                <tr>
                                                    <th>CID</th>
                                                    <th>工作状态</th>
                                                    <th>上一次心跳时间</th>
                                                </tr>
                                                </thead>
                                                <tbody>
                                                    <tr>
                                                        <td>巴扎嘿</td>
                                                        <td>234234</td>
                                                        <td class="text-navy"> <i class="fa fa-level-up"></i> 40% </td>
                                                    </tr>
                                                    <tr>
                                                        <td>五黄</td>
                                                        <td>34242</td>
                                                        <td class="text-warning"> <i class="fa fa-level-down"></i> -20% </td>
                                                    </tr>
                                                    <tr>
                                                        <td>水电费</td>
                                                        <td>846</td>
                                                        <td class="text-navy"> <i class="fa fa-level-up"></i> 26% </td>
                                                    </tr>
                                                    <tr>
                                                        <td>玩儿</td>
                                                        <td>34</td>
                                                        <td class="text-navy"> <i class="fa fa-level-up"></i> 26% </td>
                                                    </tr>
                                                    <tr>
                                                        <td>温润如玉</td>
                                                        <td>1</td>
                                                        <td class="text-navy"> <i class="fa fa-level-up"></i> 26% </td>
                                                    </tr>
                                                    <tr>
                                                        <td>体育</td>
                                                        <td>0</td>
                                                        <td class="text-navy"> <i class="fa fa-level-up"></i> 26% </td>
                                                    </tr>
                                                    <tr>
                                                        <td>老师</td>
                                                        <td>0</td>
                                                        <td class="text-navy"> <i class="fa fa-level-up"></i> 26% </td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <!-- 充电电量变化 -->
                                <div class="ibox float-e-margins">
                                    <div class="ibox-title">
                                        <h5>联网状态总览</h5>
                                        <div class="ibox-content">
                                            <div id="chart2" style="width: 500px;height:300px;"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                           
                        </div>
                    </div>

{% endblock content %}


{% block script %}
    <script>
        $(document).ready(function(){
            /*
            *  折线图
            */
            var chart1 = echarts.init(document.getElementById('chart1'));

            // 指定图表的配置项和数据
            chart1.title = '充电电量变化';
            var colors = ['#5793f3', '#d14a61', '#1ab394'];
            var option = {
                color: colors,
                tooltip: {
                    trigger: 'none',
                    axisPointer: {
                        type: 'cross'
                    }
                },
                legend: {
                    data:['2015 电量', '2016 电量', '2017 电量']
                },
                grid: {
                    top: 70,
                    bottom: 50
                },
                xAxis: [
                    {
                        type: 'category',
                        axisTick: {
                            alignWithLabel: true
                        },
                        axisLine: {
                            onZero: false,
                            lineStyle: {
                                color: '#333'
                            }
                        },
                        axisPointer: {
                            label: {
                                formatter: function (params) {
                                    return '电量  ' + params.value
                                        + (params.seriesData.length ? '：' + params.seriesData[0].data : '');
                                }
                            }
                        },
                        data: ["1", "2", "3", "4", "5", "6", "7", "8", "9", "10", "11", "12"]
                    }
                ],
                yAxis: [
                    {
                        type: 'value'
                    }
                ],
                series: [
                    {
                        name:'2015 电量',
                        type:'line',
                        smooth: true,
                        data: [2.6, 5.9, 9.0, 26.4, 28.7, 70.7, 175.6, 182.2, 48.7, 18.8, 6.0, 2.3]
                    },
                    {
                        name:'2016 电量',
                        type:'line',
                        smooth: true,
                        data: [3.9, 5.9, 11.1, 18.7, 48.3, 69.2, 231.6, 46.6, 55.4, 18.4, 10.3, 0.7]
                    },
                    {
                        name:'2017 电量',
                        type:'line',
                        smooth: true,
                        data: [50, 70, 7.1, 20.7, 18.3, 49.2, 101.6, 26.6, 35.4, 18.4, 1.3, 0.1]
                    }
                ]
            };

            // 使用刚指定的配置项和数据显示图表。
            chart1.setOption(option);

            /**
            * 饼图
            */
            var chart2 = echarts.init(document.getElementById('chart2'));
            chart2.title = '联网状态总览';

            option = {
                tooltip: {
                    trigger: 'item',
                    formatter: "{a} <br/>{b}: {c} ({d}%)"
                },
                legend: {
                    orient: 'vertical',
                    x: 'left',
                    data:['紧急制动','就绪','充电中','充电完成','断线','准备充电']
                },
                series: [
                    {
                        name:'访问来源',
                        type:'pie',
                        radius: ['50%', '70%'],
                        avoidLabelOverlap: false,
                        label: {
                            normal: {
                                show: false,
                                position: 'center'
                            },
                            emphasis: {
                                show: true,
                                textStyle: {
                                    fontSize: '30',
                                    fontWeight: 'bold'
                                }
                            }
                        },
                        labelLine: {
                            normal: {
                                show: false
                            }
                        },
                        data:[
                            {value:335, name:'紧急制动'},
                            {value:310, name:'就绪'},
                            {value:234, name:'充电中'},
                            {value:135, name:'充电完成'},
                            {value:548, name:'断线'},
                            {value:1000, name:'准备充电'}
                        ]
                    }
                ]
            };

            // 使用刚指定的配置项和数据显示图表。
            chart2.setOption(option);

            /* chart 1 select */
            $('#select_chart1').change(function(){
                var id = $(this).val();
                $('#'+id).removeClass('hidden').siblings().addClass('hidden');
            });
        });
    </script>

{% endblock script %}